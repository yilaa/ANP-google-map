<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>ANP visitantes</title>
  <style>
    #map{
      height: 100%;
    }
    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
  </style>
</head>
<body>
  <h1>ANP visitantes</h1>
  <div id="map"></div>
  <script>
    function initMap(){
      // Map options
      var options = {
        zoom:6,
        center:{lat:-9.900395,lng:-76.227201}
      }

      // New map
      var map = new google.maps.Map(document.getElementById('map'), options);

   
      // Add geojson
      map.data.loadGeoJson('ANP_puntos_data.geojson');
      
      //Add marker
      map.data.setStyle(function(feature) {
      if (parseFloat(feature.getProperty('Total 2018'))>1000){
          var tot2018 = Math.sqrt(parseFloat(feature.getProperty('Total 2018')))*0.05;
          } else {
          var tot2018 =1.5;
          };
      if (parseFloat(feature.getProperty('Total 2018'))>300000){
          var color="#cc4c02";
          var opacidad=0.80;
          var circulo="#cc4c02";
          } else if (parseFloat(feature.getProperty('Total 2018'))>100000){
          var color="#f2a13f";
          var opacidad=0.90;
          var circulo="#f2a13f";
          } else if (parseFloat(feature.getProperty('Total 2018'))>50000){
          var color="#fadd98";
          var opacidad=0.90;
          var circulo="#fadd98";
          } else {
          var color="#f00";
          var opacidad=0.60;
          var circulo="#f00";
          };
          return /** @type {google.maps.Data.StyleOptions} */({
            icon: {
              path: google.maps.SymbolPath.CIRCLE,
              scale: tot2018,
              fillColor: color,
              fillOpacity: opacidad,
              strokeColor: circulo,
              strokeWeight: 0.7
        }
       });
      });
    }
  </script>
  <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBpL3r9VTtiSnTUOJbOC4M7CWemLr0cEiA&callback=initMap">
    </script>
</body>
</html>

